{"version":3,"file":"vue.js","sources":["../../src/util.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/observer/schduler.js","../../src/observer/watcher.js","../../src/state.js","../../src/compiler/parse.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/index.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["export function proxy (vm, data, key) {\n\n  Object.defineProperty(vm, key, {\n    get () {\n      return vm[data][key]\n    },\n    set (val) {\n      vm[data][key] = val\n    }\n  })\n}\n\nexport function defineProperty (target, key, value) {\n  Object.defineProperty(target, key, {\n    enumerable: false,\n    configurable: false,\n    value\n  })\n}\nexport const LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed'\n]\nconst strats = {}\n\nLIFECYCLE_HOOKS.forEach(hook => {\n  strats[hook] = mergeHook\n})\n\nfunction mergeHook (parentVal, childVal) {\n  if (childVal) {\n    if (parentVal) {\n      return parentVal.concat(childVal)\n    } else {\n      return [childVal]\n    }\n  }\n}\n\nexport function mergeOptions (parent, child) {\n  const options = {}\n  for (let key in parent) {\n    mergeField(key)\n  }\n  for (let key in child) {\n    if (!parent.hasOwnProperty(key)) {\n      mergeField(key)\n    }\n  }\n  function mergeField (key) {\n    if (strats[key]) {\n      options[key] = strats[key](parent[key], child[key])\n    } else {\n      options[key] = child[key]\n    }\n  }\n  return options\n}\n\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook]\n  if (handlers) {\n    handlers.forEach(handler => {\n      handler.call(vm)\n    })\n  }\n}\n\n\n\nconst callbacks = [];\nlet pending = false;\nfunction flushCallbacks(){\n    console.log('callbacks', callbacks)\n    while (callbacks.length) {\n        let cb = callbacks.shift();\n        cb();\n    } // 让nextTick中传入的方法依次执行\n    pending = false // 标识已经执行完毕\n}\nlet timerFunc;\nif(Promise){\n    timerFunc = ()=>{\n        Promise.resolve().then(flushCallbacks); // 异步处理更新\n    }\n}else if(MutationObserver){ // 可以监控dom变化,监控完毕后是异步更新\n    let observe = new MutationObserver(flushCallbacks);\n    let textNode = document.createTextNode(1); // 先创建一个文本节点\n    observe.observe(textNode,{characterData:true}); // 观测文本节点中的内容\n    timerFunc = ()=>{\n        textNode.textContent = 2; // 文中的内容改成2\n    }\n}else if(setImmediate){\n    timerFunc = ()=>{\n        setImmediate(flushCallbacks)\n    }\n}else{\n    timerFunc = ()=>{\n        setTimeout(flushCallbacks)\n    }\n}\nexport function nextTick(cb){ // 因为内部会调用nextTick 用户也会调用，但是异步只需要一次\n    callbacks.push(cb);\n    if(!pending){\n        // vue3 里的nextTick原理就是promise.then 没有做兼容性处理了\n        timerFunc();// 这个方法是异步方法 做了兼容处理了\n        pending = true;\n    }\n}","const oldArrayProtoMethods = Array.prototype\n\nexport let arrayMethods = Object.create(oldArrayProtoMethods)\nlet methods = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice'\n]\nmethods.forEach(method => {\n  arrayMethods[method] = function(...args) {\n    const result = oldArrayProtoMethods[method].apply(this, args)\n    let inserted\n    let ob = this.__ob__ // this指向的是调用着，也就是数组类型的data，在Observer包装data的时候，就初始化来__ob__给data， 所以这个data有__ob__属性， 指向的是Observer, 就有observeArray的方法来\n    switch (method) {\n      case 'push': // arr.push({a:1},{b:2})\n      case 'unshift': //这两个方法都是追加 追加的内容可能是对象类型，应该被再次进行劫持\n          inserted = args;\n          break;\n      case 'splice': // vue.$set原理\n          inserted = args.slice(2); // arr.splice(0,1,{a:1},{a:1},{a:1})\n      default:\n          break;\n    }\n    if(inserted) ob.observeArray(inserted); // 给数组新增的值也要进行观测\n    ob.dep.notify()\n    return result\n  }\n})","// depend依赖, 收集依赖的\nlet id = 0\nclass Dep {\n  constructor () {\n    this.subs = []\n    this.id = id++\n  }\n  // 建立关联，依赖关系\n  depend () {\n    // Dep.target.addDep(this)\n    Dep.target.addDep(this)\n  }\n  // 往中介添加\n  addSub (watcher) {\n    this.subs.push(watcher)\n  }\n  // 通知\n  notify () {\n    this.subs.forEach(watcher => watcher.update())\n  }\n}\nDep.target = null;\nexport function pushTarget (watcher) {\n  Dep.target = watcher\n}\n\nexport function popTarget () {\n  Dep.target = null\n}\nexport default Dep","import { defineProperty } from \"../util\";\nimport { arrayMethods } from \"./array\";\nimport Dep from './dep'\n\nexport function observe(data) {\n  if(typeof data !== 'object' || data == null){\n      return;\n  }\n  if(data.__ob__){\n      return data;\n  }\n  return new Observer(data) // 包装data\n}\n\nclass Observer {\n  constructor (data) {\n    this.dep = new Dep()\n    defineProperty(data, '__ob__', this)\n    if (Array.isArray(data)) {\n      data.__proto__ = arrayMethods\n      this.observeArray(data)\n    }\n    this.walk(data)\n  }\n  walk(data) {\n    const keys = Object.keys(data)\n    keys.forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n  observeArray (data) {\n    for(let i = 0; i < data.length;i++) {\n      observe(data[i])\n    }\n  }\n}\nfunction defineReactive(data, key, value) {\n  let valueObserver = observe(value)\n  const dep = new Dep()\n  Object.defineProperty(data, key, {\n    get () {\n      if (Dep.target) {\n        dep.depend()\n        if (valueObserver) {\n          valueObserver.dep.depend()\n        }\n      }\n      return value\n    },\n    set (newValue) {\n      if(newValue === value) return;\n      observe(newValue)\n      value = newValue\n      dep.notify()\n    }\n  })\n}","import { nextTick } from \"../util\"\nimport Watcher from \"./watcher\";\n\nlet has = {}\nlet queue = []\nlet pending = false;\nexport function queueWatcher(watcher) {\n  let id = watcher\n  if (has[id] ==null) {\n    queue.push(watcher)\n    has[id] = true\n    // 开启异步，会等待所有同步后再执行\n    // setTimeout(() => {\n    //   flushSchedulerQueue()\n    // }, 0)\n    if (!pending) {\n        nextTick(flushSchedulerQueue)\n        pending = true\n    }\n  }\n}\n\nexport function flushSchedulerQueue () {\n  queue.forEach(watcher =>{\n    watcher.run()\n    if (!watcher.user) {\n        watcher.cb()\n    }\n  });\n  queue = [];\n  has = {};\n  pending = false\n}","// 观察者.js\nimport { pushTarget, popTarget } from \"./dep\";\nimport { queueWatcher } from \"./schduler\";\nclass Watcher {\n  constructor (vm, exprOrFn, cb, options) {\n    this.deps = [] // watcher记录有多少dep依赖他\n    this.depsId = new Set()\n    this.vm = vm\n    this.exprOrFn = exprOrFn\n    this.cb = cb\n    this.options = options\n    /**\n     * var obj = true; obj.user // undefined\n     */\n    this.user = options.user\n    if (typeof exprOrFn === 'function') {\n      this.getter = exprOrFn\n    } else {\n      this.getter = function() {\n        // 拿到实例上的值\n        let path = exprOrFn.split('.')\n        let obj = vm\n        for (let i = 0; i < path.length; i++) {\n          obj = obj[path[i]]\n        }\n        return obj\n      }\n    }\n    this.value = this.get() // 默认先调用一次get，进行取值，将结果赋值给this.value\n    // 比如 vm.a.a 的值\n  }\n  get () {\n    pushTarget(this)\n    let result = this.getter()\n    popTarget()\n    return result\n  }\n\n  addDep (dep) {\n    let id = dep.id\n    if (!this.depsId.has(id)) {\n      this.deps.push(dep)\n      this.depsId.add(id)\n      dep.addSub(this)\n    }\n  }\n  // 更新值后，批量更新最后会走到run\n  // 如果是watch，那么this.value是老值，this.get()是新值\n  run () {\n    // this.get()\n    console.log('run')\n    let newValue = this.get()\n    let oldValue = this.value\n    this.value = newValue\n    if (this.user) { // 如果是用户watcher\n      this.cb.call(this.vm, newValue, oldValue)\n    }\n  }\n  update () {\n    console.log('update', this)\n    // this.run()\n    queueWatcher(this)\n  }\n}\n\n\n\nexport default Watcher\n","import { nextTick, proxy } from \"./util\"\nimport { observe } from \"./observer/index\"\nimport Watcher from \"./observer/watcher\"\n\nexport function initState(vm) {\n  const opts = vm.$options\n  if (opts.props) {\n    initProps(vm)\n  }\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.watch) {\n    initWatch(vm)\n  }\n}\nfunction initProps(){}\nfunction initData(vm) { // 数据初始化\n  let data = vm.$options.data\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data\n  for (let key in data) {\n    proxy(vm, '_data', key)\n  }\n  observe(data)\n}\n\nfunction initWatch(vm) {\n  let watch = vm.$options.watch\n  for(let key in watch){\n    const handler = watch[key]; // handler可能是 \n    if(Array.isArray(handler)){ // 数组 、\n        handler.forEach(handle=>{\n            createWatcher(vm,key,handle);\n        });\n    }else{\n        createWatcher(vm,key,handler); // 字符串 、 对象 、 函数\n    }\n  }\n}\n/**\n *   可能是一个函数，所以key就叫它exprOrFn好老\n *      vm.$watch(()=>{\n            return vm.a.a.a; // 老值\n        },(newValue,oldValue)=>{\n            console.log(newValue,oldValue,'自己写的$watch')\n        })\n */\n// options 可以用来标识 是用户watcher\nfunction createWatcher (vm, exprOrFn, handler, options) {\n  if(typeof handler == 'object'){\n    options = handler\n    handler = handler.handler; // 是一个函数\n  }\n  if(typeof handler == 'string'){ // methods的情况\n      handler = vm[handler]; // 将实例的方法作为handler\n  }\n  // key handler 用户传入的选项\n  return vm.$watch(exprOrFn,handler,options)\n}\n\nexport function stateMixin(Vue){\n  Vue.prototype.$nextTick = function (cb) {\n      nextTick(cb);\n  }\n  Vue.prototype.$watch = function (exprOrFn,cb,options = {}) {\n    console.log('$watch', this)\n      // 数据应该依赖这个watcher  数据变化后应该让watcher从新执行\n      let watcher = new Watcher(this,exprOrFn,cb,{...options,user:true});\n      if(options.immediate){\n          cb(); // 如果是immdiate应该立刻执行\n      }\n  }\n}","\n\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\n// ?:匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // </my:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的    aaa=\"aaa\"  a='aaa'   a=aaa\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >    >   <div></div>  <br/>\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n// 数据结构 树、栈、链表、队列、\nexport function parseHTML(html) {\n    function createASTElement(tagName, attrs) {\n        return {\n            tag: tagName, // 标签名\n            type: 1, // 元素类型\n            children: [], // 孩子列表\n            attrs, // 属性集合\n            parent: null // 父元素\n        }\n    }\n    let root;\n    let currentParent;\n    let stack = [];\n    function start(tagName, attrs) { // 创建一个元素 作为根元素\n        let element = createASTElement(tagName, attrs);\n        if(!root){\n            root = element;\n        }\n        currentParent = element; // 当前解析的标签 保存起来\n        stack.push(element); // 将生产的ast元素放到栈中\n    }\n\n    // <div> <p></p> hello</div>    currentParent=p\n    function end(tagName) { // 在结尾标签处 创建父子关系\n        let element = stack.pop(); // 取出栈中的最后一个\n        currentParent = stack[stack.length-1];\n        if(currentParent){ // 在闭合时可以知道这个标签的父亲是谁\n            element.parent = currentParent;\n            currentParent.children.push(element);\n        }\n    }\n    function chars(text) {\n        text = text.trim();\n        if(text){\n            currentParent.children.push({\n                type:3,\n                text\n            })\n        }\n    }\n\n    while (html) { // 只要html不为空字符串就一直解析\n        let textEnd = html.indexOf('<');\n        if (textEnd == 0) {\n            // 肯定是标签\n            const startTagMatch = parseStartTag(); // 开始标签匹配的结果 处理开始\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs);\n                continue;\n            }\n            const endTagMatch = html.match(endTag);\n            if (endTagMatch) { // 处理结束标签\n                advance(endTagMatch[0].length);\n                end(endTagMatch[1]); // 将结束标签传入\n                continue;\n            }\n        }\n        let text;\n        if (textEnd > 0) { // 是处理文本\n            text = html.substring(0, textEnd)\n        }\n        if (text) { // 处理文本\n            advance(text.length);\n            chars(text);\n        }\n\n    }\n\n    function advance(n) { // 将字符串进行截取操作 在更新html内容\n        html = html.substring(n)\n    }\n\n    function parseStartTag() {\n        const start = html.match(startTagOpen);\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            }\n            advance(start[0].length); // 删除开始标签\n            // 如果直接是闭合标签了 说明没有属性\n            let end, attr;\n            // 不是结尾标签 能匹配到属性\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] });\n                advance(attr[0].length); // 去掉当前属性\n            }\n            if (end) { // >  删除匹配到的结束标签\n                advance(end[0].length);\n                return match;\n            }\n        }\n    }\n\n    return root;\n}\n","// 编写<div id=\"app\" style=\"color:red\"> hello {{name}} <span>hello</span></div>\n\n// 结果:render(){\n//    return _c('div',{id:'app',style:{color:'red'}},_v('hello'+_s(name)),_c('span',null,_v('hello')))\n//}\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n//  语法层面的转义\nfunction genProps(attrs) { //  id   \"app\"     / style  \"fontSize:12px;color:red\"\n    let str = '';\n    for (let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i];\n        if (attr.name === 'style') {\n            let obj = {}; // 对样式进行特殊的处理\n            attr.value.split(';').forEach(item => {\n                let [key, value] = item.split(':');\n                obj[key] = value;\n            });\n            attr.value = obj;\n        }\n        str += `${attr.name}:${JSON.stringify(attr.value)},`;\n    }\n    return `{${str.slice(0,-1)}}`;\n}\nfunction gen(node) {\n    if (node.type == 1) {\n        return generate(node); // 生产元素节点的字符串\n    } else {\n        let text = node.text; // 获取文本\n        // 如果是普通文本 不带{{}}\n\n        if(!defaultTagRE.test(text)){\n            return `_v(${JSON.stringify(text)})` // _v('hello {{ name }} world {{msg}} aa')   => _v('hello'+_s(name) +'world' + _s(msg))\n        }\n        let tokens = []; // 存放每一段的代码\n        let lastIndex = defaultTagRE.lastIndex = 0; // 如果正则是全局模式 需要每次使用前置为0\n        let match,index; // 每次匹配到的结果\n\n        while(match = defaultTagRE.exec(text)){\n            index = match.index; // 保存匹配到的索引\n            if(index > lastIndex){\n                tokens.push(JSON.stringify(text.slice(lastIndex,index)))\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n            lastIndex = index+match[0].length;\n        }\n        if(lastIndex < text.length){\n            tokens.push(JSON.stringify(text.slice(lastIndex)));\n        }\n        return `_v(${tokens.join('+')})`;\n    }\n}\nfunction genChildren(el) {\n    const children = el.children;\n    if (children) { // 将所有转化后的儿子用逗号拼接起来\n        return children.map(child => gen(child)).join(',')\n    }\n}\nexport function generate(el) {\n    let children = genChildren(el);// 儿子的生成\n    let code = `_c('${el.tag}',${\n        el.attrs.length? `${genProps(el.attrs)}`:'undefined'\n    }${\n        children?`,${children}`:''\n    })`;\n    return code;\n}\n","import { parseHTML } from \"./parse\";\nimport { generate } from \"./generate\";\nexport function compileToFunctions (template) {\n  // return template\n  // 1. 将template转成ast树， 这样做的目的是，用js对象更方便后续操作\n  let ast = parseHTML(template)\n  /* console.log(ast)\n    {\n      attrs: (2) [{…}, {…}]\n      children: (3) [{…}, {…}, {…}]\n      parent: null\n      tag: \"div\"\n      type: 1\n    }\n  */\n  // 2. 优化静态节点\n  // 3. 用ast生成code, 主要是用vue的的方法去包装成code，\n  // 这样在render函数执行时，会用vue原型上的方法去编译render函数\n  let code = generate(ast);\n  // _c('div',{id:\"app\",style:{\"color\":\"red\"}},_c('p',undefined,_v(\"hello world zf\")),_c('li',undefined,_v(_s(school.name))),_c('li',undefined,_v(_s(school.age))))\n  // console.log(code);\n  // 4. 通过new Function + with的方式，生成render函数\n  let render = new Function(`with(this){return ${code}}`)\n  /*\n    with 的用法\n    https://blog.csdn.net/zwkkkk1/article/details/79725934\n  */\n  return render\n}\n","export function patch(oldVnode,vnode){\n\n    // oldVnode => id#app   vnode 我们根据模板产生的虚拟dom\n\n    // 将虚拟节点转化成真实节点\n    let el = createElm(vnode); // 产生真实的dom \n    let parentElm = oldVnode.parentNode; // 获取老的app的父亲 =》 body\n\n    parentElm.insertBefore(el,oldVnode.nextSibling); // 当前的真实元素插入到app的后面\n    parentElm.removeChild(oldVnode); // 删除老的节点\n\n    return el;\n\n}\n\nfunction createElm(vnode){\n    let {tag,children,key,data,text} = vnode;\n    if(typeof tag == 'string'){ // 创建元素 放到vnode.el上\n        vnode.el = document.createElement(tag);\n\n        // 只有元素才有属性\n        updateProperties(vnode);\n        children.forEach(child=>{ // 遍历儿子 将儿子渲染后的结果扔到父亲中\n            vnode.el.appendChild(createElm(child));\n        })\n    }else{ // 创建文件 放到vnode.el上\n        vnode.el = document.createTextNode(text);\n    }\n    return vnode.el;\n}\n\n// vue 的渲染流程 =》 先初始化数据 =》 将模板进行编译 =》 render函数 =》 生成虚拟节点 =》 生成真实的dom  =》 扔到页面上\n\n\nfunction updateProperties(vnode){\n    let el = vnode.el;\n    let newProps = vnode.data || {};\n    for(let key in newProps){\n        if(key == 'style'){ // {color:red}\n            for(let styleName in newProps.style){\n                el.style[styleName] = newProps.style[styleName]\n            }\n        }else if(key == 'class'){\n            el.className = el.class;\n        }else{\n            el.setAttribute(key,newProps[key]);\n        }\n    }\n}","import { patch } from \"./vdom/patch\";\nimport { callHook } from \"./util\";\nimport Watcher from './observer/watcher'\nexport function lifeCycleMixin (Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this\n    // 用新的创建的元素 替换老的vm.$el\n    vm.$el = patch(vm.$el,vnode)\n  }\n}\n\nexport function mountComponent (vm, el) {\n  vm.$el = el;\n  // 调用render方法去渲染 el属性\n  // 先调用render方法创建虚拟节点，在将虚拟节点渲染到页面上\n  callHook(vm,'beforeMount')\n  let updateComponent = ()=>{\n      vm._update(vm._render()); // 渲染 、 更新\n  }\n  // 这个watcher是用于渲染的 目前没有任何功能  updateComponent()\n\n  // 初始化就会创建watcher\n  let watcher = new Watcher(vm,updateComponent,()=>{\n      callHook(vm,'updated')\n  },true); // 渲染watcher 只是个名字\n\n  // 要把属性 和 watcher绑定在一起 \n  \n  callHook(vm,'mounted');\n}\n","import { initState } from \"./state\"\nimport { compileToFunctions } from \"./compiler/index\"\nimport { mountComponent } from \"./lifecycle\";\nimport { mergeOptions, callHook } from \"./util\";\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this // 实例\n    // 要把全局的合并一起\n    vm.$options = mergeOptions(vm.constructor.options, options) // 属性挂在实例的$options\n    callHook(vm, 'beforeCreate')\n    initState(vm)\n    callHook(vm, 'created')\n    if(vm.$options.el){\n      vm.$mount(vm.$options.el)\n    }\n  }\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n    if(!options.render){\n      // 没render 将template转化成render方法\n      let template = options.template;\n      if(!template && el){\n          template = el.outerHTML;\n      }\n      // 编译原理 将模板编译成render函数\n      const render = compileToFunctions(template);\n      options.render = render\n    }\n    // 都解析成render函数之后，挂载组件\n    mountComponent(vm,el);\n  }\n}\n","export function renderMixin(Vue) { // 用对象来描述dom的解构\n  Vue.prototype._c = function() { // 创建虚拟dom元素\n      return createElement(...arguments);\n  }\n\n  // 1.当结果是对象时 会对这个对象取值\n  Vue.prototype._s = function(val) { // stringify\n      return val == null ? '' : (typeof val == 'object') ? JSON.stringify(val) : val;\n  }\n  Vue.prototype._v = function(text) { // 创建虚拟dom文本元素\n      return createTextVnode(text);\n  }\n  Vue.prototype._render = function() { // _render = render\n      const vm = this;\n      const render = vm.$options.render;\n      let vnode = render.call(vm);\n      return vnode;\n  }\n}\n// _c('div',{},_v(),_c())\nfunction createElement(tag,data={},...children){\n return vnode(tag,data,data.key,children)\n}\nfunction createTextVnode(text){\n  return vnode(undefined,undefined,undefined,undefined,text);\n}\n// 用来产生虚拟dom的,操作真实dom浪费性能\nfunction vnode(tag,data,key,children,text){\n  return {\n      tag,\n      data,\n      key,\n      children,\n      text,\n  }\n}","import { mergeOptions } from \"../util\"\n\n// 全局api\nexport function initGlobalApi (Vue) {\n  Vue.options = {}\n  // 要将mixin合并到去全局配置中\n  Vue.mixin = function(mixin) {\n    this.options = mergeOptions(this.options, mixin)\n  }\n}","import { initMixin } from \"./init.js\"\nimport { renderMixin } from \"./vdom/index\";\nimport { lifeCycleMixin } from \"./lifecycle.js\";\nimport { initGlobalApi } from \"./global-api/index.js\";\nimport { stateMixin } from \"./state.js\";\n\nfunction Vue (options) {\n  this._init(options)\n}\ninitGlobalApi(Vue)\ninitMixin(Vue)\nlifeCycleMixin(Vue)\nrenderMixin(Vue)\nstateMixin(Vue)\nexport default Vue"],"names":["proxy","vm","data","key","Object","defineProperty","get","set","val","target","value","enumerable","configurable","LIFECYCLE_HOOKS","strats","forEach","hook","mergeHook","parentVal","childVal","concat","mergeOptions","parent","child","options","mergeField","hasOwnProperty","callHook","handlers","$options","handler","call","callbacks","pending","flushCallbacks","console","log","length","cb","shift","timerFunc","Promise","resolve","then","MutationObserver","observe","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","nextTick","push","oldArrayProtoMethods","Array","prototype","arrayMethods","create","methods","method","args","result","apply","inserted","ob","__ob__","slice","observeArray","dep","notify","id","Dep","subs","addDep","watcher","update","pushTarget","popTarget","Observer","isArray","__proto__","walk","keys","defineReactive","i","valueObserver","depend","newValue","has","queue","queueWatcher","flushSchedulerQueue","run","user","Watcher","exprOrFn","deps","depsId","Set","getter","path","split","obj","add","addSub","oldValue","initState","opts","props","initData","watch","initWatch","_data","handle","createWatcher","$watch","stateMixin","Vue","$nextTick","immediate","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","root","currentParent","stack","start","element","end","pop","chars","text","trim","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","item","JSON","stringify","gen","node","generate","test","tokens","lastIndex","index","exec","join","genChildren","el","map","code","compileToFunctions","template","ast","render","Function","patch","oldVnode","vnode","createElm","parentElm","parentNode","insertBefore","nextSibling","removeChild","createElement","updateProperties","appendChild","newProps","styleName","style","className","setAttribute","lifeCycleMixin","_update","$el","mountComponent","updateComponent","_render","initMixin","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","arguments","_s","_v","createTextVnode","undefined","initGlobalApi","mixin"],"mappings":"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"}